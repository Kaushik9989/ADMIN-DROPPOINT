<% layout("/layouts/boilerplate") %>

<div class="container mt-5">
  <h2 class="text-orange mb-4">Update Profile</h2>

  <% if (messages.success && messages.success.length) { %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= messages.success[0] %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% } %>

  <% if (messages.error && messages.error.length) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= messages.error[0] %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% } %>

  <form method="POST" action="/profile">
    <div class="mb-3">
      <label for="username" class="form-label text-dark fw-semibold">Username</label>
      <input type="text" name="username" id="username" value="<%= user.username || '' %>" class="form-control" required />
    </div>

    <div class="mb-3">
      <label for="email" class="form-label text-dark fw-semibold">Email</label>
      <input type="email" name="email" id="email" value="<%= user.email || '' %>" class="form-control" />
    </div>

    <div class="mb-3">
      <label class="form-label text-dark fw-semibold">Phone Number</label>
      <input type="text" name="phone"   value="<%= user.phone || ' '%>" class="form-control" />
    </div>

    <button type="submit" class="btn btn-success mt-2">
      <i class="fas fa-save me-1"></i> Save Changes
    </button>
  </form>
</div>
